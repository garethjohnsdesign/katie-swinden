!function e(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.Swup=n():t.Swup=n()}(window,function(){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(o,i,function(t){return e[t]}.bind(null,i));return o},t.n=function(e){var n=e&&e.__esModule?function t(){return e.default}:function t(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(){function e(){o(this,e),this.link=document.createElement("a")}return i(e,[{key:"setPath",value:function e(t){this.link.href=t}},{key:"getPath",value:function e(){var t=this.link.pathname;return"/"!=t[0]&&(t="/"+t),t}},{key:"getAddress",value:function e(){var t=this.link.pathname+this.link.search;return"/"!=t[0]&&(t="/"+t),t}},{key:"getHash",value:function e(){return this.link.hash}}]),e}();t.default=r},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var i=n(2),r=o(i);e.exports=r.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(3),l=o(a),c=n(5),u=o(c),d=n(0),h=o(d),f=n(6),p=o(f),g=n(7),m=o(g),v=n(8),w=o(v),y=n(9),E=o(y),b=n(10),S=o(b),P=n(11),T=o(P),k=n(12),L=o(k),x=n(13),A=o(x),C=n(14),M=o(C),H=n(15),O=o(H),j=n(16),R=o(j),_=n(17),q=o(_),U=n(18),D=o(U),F=n(19),I=o(F),N=n(20),B=o(N),K=n(21),W=o(K),z=n(22),V=o(z),X=function(){function e(t){i(this,e);var n={cache:!0,animationSelector:'[class^="a-"]',elements:["#swup"],pageClassPrefix:"",debugMode:!1,scroll:!0,doScrollingRightAway:!1,animateScroll:!0,scrollFriction:.3,scrollAcceleration:.04,preload:!0,support:!0,plugins:[],skipPopStateHandling:function e(t){return!t.state||"swup"!=t.state.source},LINK_SELECTOR:'a[href^="/"]:not([data-no-swup]), a[href^="#"]:not([data-no-swup]), a[xlink\\:href]',FORM_SELECTOR:"form[data-swup-form]"};this.transition={};var o=r({},n,t);this.mobile=!1,this.scrollToElement=null,this.preloadPromise=null,this.options=o,this.plugins=[],this.getUrl=M.default,this.cache=new u.default,this.link=new h.default,this.transitionEndEvent=(0,p.default)(),this.getDataFromHtml=w.default,this.getPage=m.default,this.scrollTo=O.default,this.loadPage=E.default,this.renderPage=S.default,this.goBack=T.default,this.createState=L.default,this.triggerEvent=A.default,this.classify=R.default,this.doScrolling=q.default,this.markSwupElements=D.default,this.updateTransition=I.default,this.preloadPages=B.default,this.usePlugin=W.default,this.log=V.default,this.enable=this.enable,this.destroy=this.destroy,window.innerWidth<=767&&(this.mobile=!0),this.options.debugMode&&(window.swup=this),this.getUrl(),this.enable()}return s(e,[{key:"enable",value:function e(){var t=this;if(this.options.support){if(!("pushState"in window.history))return void console.warn("pushState is not supported");if(!(0,p.default)())return void console.warn("transitionEnd detection is not supported");if(this.transitionEndEvent=(0,p.default)(),"undefined"==typeof Promise||-1===Promise.toString().indexOf("[native code]"))return void console.warn("Promise is not supported")}this.delegatedListeners={},this.delegatedListeners.click=(0,l.default)(document,this.options.LINK_SELECTOR,"click",this.linkClickHandler.bind(this)),this.delegatedListeners.mouseover=(0,l.default)(document.body,this.options.LINK_SELECTOR,"mouseover",this.linkMouseoverHandler.bind(this)),this.delegatedListeners.formSubmit=(0,l.default)(document,this.options.FORM_SELECTOR,"submit",this.formSubmitHandler.bind(this)),window.addEventListener("popstate",this.popStateHandler.bind(this));var n=this.getDataFromHtml(document.documentElement.outerHTML);n.url=this.currentUrl,this.options.cache&&this.cache.cacheUrl(n,this.options.debugMode),this.markSwupElements(document.documentElement),this.options.plugins.forEach(function(e){return t.usePlugin(e)}),window.history.replaceState(Object.assign({},window.history.state,{url:window.location.href,random:Math.random(),source:"swup"}),document.title,window.location.href),this.triggerEvent("enabled"),document.documentElement.classList.add("swup-enabled"),this.triggerEvent("pageView"),this.preloadPages()}},{key:"destroy",value:function e(){this.delegatedListeners.click.destroy(),this.delegatedListeners.mouseover.destroy(),window.removeEventListener("popstate",this.popStateHandler.bind(this)),this.cache.empty(),document.querySelectorAll("[data-swup]").forEach(function(e){delete e.dataset.swup}),this.triggerEvent("disabled"),document.documentElement.classList.remove("swup-enabled")}},{key:"linkClickHandler",value:function e(t){if(t.metaKey)this.triggerEvent("openPageInNewTab");else{this.triggerEvent("clickLink");var n=new h.default;if(t.preventDefault(),n.setPath(t.delegateTarget.href),n.getAddress()==this.currentUrl||""==n.getAddress())if(""!=n.getHash()){this.triggerEvent("samePageWithHash");var o=document.querySelector(n.getHash());if(null!=o){if(this.options.scroll){var i=o.getBoundingClientRect().top+window.pageYOffset;this.scrollTo(document.body,i)}history.replaceState(void 0,void 0,n.getHash())}else console.warn("Element for offset not found ("+n.getHash()+")")}else this.triggerEvent("samePage"),this.options.scroll&&this.scrollTo(document.body,0,1);else{""!=n.getHash()&&(this.scrollToElement=n.getHash());var r=t.delegateTarget.dataset.swupClass;null!=r?(this.updateTransition(window.location.pathname,n.getAddress(),t.delegateTarget.dataset.swupClass),document.documentElement.classList.add("to-"+r)):this.updateTransition(window.location.pathname,n.getAddress()),this.loadPage({url:n.getAddress()},!1)}}}},{key:"linkMouseoverHandler",value:function e(t){var n=this;if(this.triggerEvent("hoverLink"),this.options.preload){var o=new h.default;o.setPath(t.delegateTarget.href),o.getAddress()==this.currentUrl||this.cache.exists(o.getAddress())||null!=this.preloadPromise||(this.preloadPromise=new Promise(function(e){n.getPage({url:o.getAddress()},function(t){if(null===t)console.warn("Server error."),n.triggerEvent("serverError");else{var i=n.getDataFromHtml(t);i.url=o.getAddress(),n.cache.cacheUrl(i,n.options.debugMode),n.triggerEvent("pagePreloaded")}e(),n.preloadPromise=null})}),this.preloadPromise.route=o.getAddress())}}},{key:"formSubmitHandler",value:function e(t){if(t.metaKey)this.triggerEvent("openFormSubmitInNewTab");else{this.triggerEvent("submitForm"),t.preventDefault();var n=t.target,o=new FormData(n),i=new h.default;if(i.setPath(n.action),""!=i.getHash()&&(this.scrollToElement=i.getHash()),"get"!=n.method.toLowerCase())this.cache.remove(i.getAddress()),this.loadPage({url:i.getAddress(),method:n.method,data:o});else{var r=i.getAddress()||window.location.href,s=n.querySelectorAll("input");-1==r.indexOf("?")?r+="?":r+="&",s.forEach(function(e){"checkbox"==e.type||"radio"==e.type?e.checked&&(r+=encodeURIComponent(e.name)+"="+encodeURIComponent(e.value)+"&"):r+=encodeURIComponent(e.name)+"="+encodeURIComponent(e.value)+"&"}),r=r.slice(0,-1),this.cache.remove(r),this.loadPage({url:r})}}}},{key:"popStateHandler",value:function e(t){var n=new h.default;this.options.skipPopStateHandling(t)||(n.setPath(t.state?t.state.url:window.location.pathname),""!=n.getHash()?this.scrollToElement=n.getHash():t.preventDefault(),this.triggerEvent("popState"),this.loadPage({url:n.getAddress()},t))}}]),e}();t.default=X},function(e,t,n){function o(e,t,n,o,i){var s=r.apply(this,arguments);return e.addEventListener(n,s,i),{destroy:function(){e.removeEventListener(n,s,i)}}}function i(e,t,n,i,r){return"function"==typeof e.addEventListener?o.apply(null,arguments):"function"==typeof n?o.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,function(e){return o(e,t,n,i,r)}))}function r(e,t,n,o){return function(n){n.delegateTarget=s(n.target,t),n.delegateTarget&&o.call(e,n)}}var s=n(4);e.exports=i},function(e,t){function n(e,t){for(;e&&e.nodeType!==o;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}var o=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var i=Element.prototype;i.matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector}e.exports=n},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(){function e(){o(this,e),this.pages={},this.count=0,this.last=null}return i(e,[{key:"cacheUrl",value:function e(t,n){this.count++,t.url in this.pages==!1&&(this.pages[t.url]=t),this.last=this.pages[t.url],n&&this.displayCache()}},{key:"getPage",value:function e(t){return this.pages[t]}},{key:"displayCache",value:function e(){console.groupCollapsed("Cache ("+Object.keys(this.pages).length+")");for(var t in this.pages)console.log(this.pages[t]);console.groupEnd()}},{key:"exists",value:function e(t){return t in this.pages}},{key:"empty",value:function e(t){this.pages={},this.count=0,this.last=null,t&&console.log("Cache cleared")}},{key:"remove",value:function e(t){delete this.pages[t]}}]),e}();t.default=r},function(e,t,n){"use strict";e.exports=function e(){var t=document.createElement("div"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var o in n)if(void 0!==t.style[o])return n[o];return!1}},function(e,t,n){"use strict";var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={url:window.location.pathname+window.location.search,method:"GET",data:null},i=o({},n,e),r=new XMLHttpRequest;return r.onreadystatechange=function(){4===r.readyState&&(500!==r.status?t(r.responseText,r):t(null,r))},r.open(i.method,i.url,!0),r.setRequestHeader("X-Requested-With","swup"),r.send(i.data),r}},function(e,t,n){"use strict";e.exports=function(e){var t=this,n=e.replace("<body",'<div id="swupBody"').replace("</body>","</div>"),o=document.createElement("div");o.innerHTML=n;for(var i=[],r=0;r<this.options.elements.length;r++)null==o.querySelector(this.options.elements[r])?console.warn("Element "+this.options.elements[r]+" is not found cached page."):[].forEach.call(document.body.querySelectorAll(this.options.elements[r]),function(e,n){o.querySelectorAll(t.options.elements[r])[n].dataset.swup=i.length,i.push(o.querySelectorAll(t.options.elements[r])[n].outerHTML)});return{title:o.querySelector("title").innerText,pageClass:o.querySelector("#swupBody").className,originalContent:e,blocks:i}}},function(e,t,n){"use strict";var o=Array.prototype.forEach;e.exports=function(e,t){var n=this,i=null;this.options.doScrollingRightAway&&!this.scrollToElement&&this.doScrolling(t);var r=[];if(t)this.triggerEvent("animationSkipped");else{document.documentElement.classList.add("is-changing"),document.documentElement.classList.add("is-leaving"),document.documentElement.classList.add("is-animating"),document.documentElement.classList.add("to-"+this.classify(e.url));var s=document.querySelectorAll(this.options.animationSelector);if(o.call(s,function(e){var t=new Promise(function(t){e.addEventListener(n.transitionEndEvent,function(n){e==n.target&&t()})});r.push(t)}),Promise.all(r).then(function(){n.triggerEvent("animationOutDone")}),null!=this.scrollToElement)var a=e.url+this.scrollToElement;else var a=e.url;this.createState(a)}if(this.cache.exists(e.url)){var l=new Promise(function(e){e()});this.triggerEvent("pageRetrievedFromCache")}else if(this.preloadPromise&&this.preloadPromise.route==e.url)var l=this.preloadPromise;else var l=new Promise(function(t){n.getPage(e,function(o){if(null===o)console.warn("Server error."),n.triggerEvent("serverError"),n.goBack();else{var i=n.getDataFromHtml(o);i.url=e.url,n.cache.cacheUrl(i,n.options.debugMode),n.triggerEvent("pageLoaded")}t()})});Promise.all(r.concat([l])).then(function(){i=n.cache.getPage(e.url),n.renderPage(i,t),n.preloadPromise=null})}},function(e,t,n){"use strict";var o=Array.prototype.forEach;e.exports=function(e,t){var n=this;document.documentElement.classList.remove("is-leaving"),t||document.documentElement.classList.add("is-rendering"),this.triggerEvent("willReplaceContent");for(var i=0;i<e.blocks.length;i++)document.body.querySelector('[data-swup="'+i+'"]').outerHTML=e.blocks[i];document.title=e.title,this.triggerEvent("contentReplaced"),this.triggerEvent("pageView"),this.options.cache||this.cache.empty(this.options.debugMode),setTimeout(function(){document.documentElement.classList.remove("is-animating")},10),!1!==this.options.pageClassPrefix&&document.body.className.split(" ").forEach(function(e){""!=e&&e.includes(n.options.pageClassPrefix)&&document.body.classList.remove(e)}),""!=e.pageClass&&e.pageClass.split(" ").forEach(function(e){""!=e&&e.includes(n.options.pageClassPrefix)&&document.body.classList.add(e)}),this.options.doScrollingRightAway&&!this.scrollToElement||this.doScrolling(t);var r=document.querySelectorAll(this.options.animationSelector),s=[];o.call(r,function(e){var t=new Promise(function(t){e.addEventListener(n.transitionEndEvent,function(n){e==n.target&&t()})});s.push(t)}),this.preloadPages(),Promise.all(s).then(function(){n.triggerEvent("animationInDone"),document.documentElement.className.split(" ").forEach(function(e){(new RegExp("^to-").test(e)||"is-changing"===e||"is-rendering"===e)&&document.documentElement.classList.remove(e)})}),this.getUrl()}},function(e,t,n){"use strict";e.exports=function(e,t){setTimeout(function(){document.body.classList.remove("is-changing"),history.back()},100)}},function(e,t,n){"use strict";e.exports=function(e){window.history.pushState({url:e||window.location.href.split(window.location.hostname)[1],random:Math.random(),source:"swup"},document.getElementsByTagName("title")[0].innerText,e||window.location.href.split(window.location.hostname)[1])}},function(e,t,n){"use strict";e.exports=function(e){this.options.debugMode&&console.log("%cswup:%c"+e,"color: #343434","color: #009ACD");var t=new CustomEvent("swup:"+e,{detail:e});document.dispatchEvent(t)}},function(e,t,n){"use strict";e.exports=function(){this.currentUrl=window.location.pathname+window.location.search}},function(e,t,n){"use strict";e.exports=function(e,t){function n(){return document.body.scrollTop||document.documentElement.scrollTop}function o(){var e=f-d;return m(e*u),h*=c,d+=h,e}var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.animateScroll,s=document.body,a=-1,l=1,c=1-this.options.scrollFriction,u=this.options.scrollAcceleration,d=100,h=0,f=400,p=null,g=function e(){var t=o();v(),Math.abs(t)>.1?p=requestAnimationFrame(e):i.triggerEvent("scrollDone")},m=function e(t){h+=t},v=function e(){window.scrollTo(0,d)};window.addEventListener("mousewheel",function(e){p&&(cancelAnimationFrame(p),p=null)},{passive:!0});var w=function e(t,o){d=n(),f=t,h=0,g()};this.triggerEvent("scrollStart"),0==r?(window.scrollTo(0,t),this.triggerEvent("scrollDone")):w(t)}},function(e,t,n){"use strict";e.exports=function(e){var t=e.toString().toLowerCase().replace(/\s+/g,"-").replace(/\//g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"");return"/"==t[0]&&(t=t.splice(1)),""==t&&(t="homepage"),t}},function(e,t,n){"use strict";e.exports=function(e){if(this.options.scroll&&!e)if(null!=this.scrollToElement){var t=this,n=document.querySelector(t.scrollToElement);if(null!=n){var o=n.getBoundingClientRect().top+window.pageYOffset;t.scrollTo(document.body,o)}else console.warn("Element for offset not found ("+t.scrollToElement+")");t.scrollToElement=null}else this.scrollTo(document.body,0)}},function(e,t,n){"use strict";e.exports=function(e){for(var t=this,n=0,o=0;o<this.options.elements.length;o++)null==e.querySelector(this.options.elements[o])?console.warn("Element "+this.options.elements[o]+" is not in current page."):[].forEach.call(document.body.querySelectorAll(this.options.elements[o]),function(i,r){e.querySelectorAll(t.options.elements[o])[r].dataset.swup=n,n++})}},function(e,t,n){"use strict";e.exports=function(e,t,n){"/"==e&&(e="/homepage"),"/"==t&&(t="/homepage"),this.transition={from:e.replace("/",""),to:t.replace("/","")},n&&(this.transition.custom=n)}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var i=n(0),r=o(i);e.exports=function(e){var t=this;if(this.options.preload){var n=function e(n){var o=new r.default;o.setPath(n),o.getAddress()==t.currentUrl||t.cache.exists(o.getAddress())||null!=t.preloadPromise||t.getPage({url:o.getAddress()},function(e){if(null===e)console.warn("Server error."),t.triggerEvent("serverError");else{var n=t.getDataFromHtml(e);n.url=o.getAddress(),t.cache.cacheUrl(n,t.options.debugMode),t.triggerEvent("pagePreloaded")}})};document.querySelectorAll("[data-swup-preload]").forEach(function(e){n(e.href)})}}},function(e,t,n){"use strict";e.exports=function(e,t){var n=this;t=Object.assign({},e.options,t),e.options=t;var o=function e(){var t=n.cache.getPage(window.location.pathname+window.location.search),o=document.createElement("html");return o.innerHTML=t.originalContent,o};return this.plugins.push(e),e.exec(t,this,o),this.plugins}},function(e,t,n){"use strict";e.exports=function(e){this.options.debugMode&&console.log(e+"%c","color: #009ACD")}}])});